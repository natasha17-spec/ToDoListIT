(this.webpackJsonpstub=this.webpackJsonpstub||[]).push([[0],{26:function(t,e,n){t.exports=n.p+"static/media/Preloader.28ba06a8.svg"},28:function(t,e,n){t.exports=n(58)},33:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(9),s=n.n(i),r=(n(33),n(2)),c=n(10),d=n(4),l=n(3),u=(n(6),n(1)),p=n(7),f=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.title},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateTitle(t.state.title)},t.activateEditMode=function(){t.setState({editMode:!0})},t.render=function(){return o.a.createElement(o.a.Fragment,null,t.state.editMode?o.a.createElement("input",{className:"todolist_title",value:t.state.title,autoFocus:!0,onBlur:t.deactivateEditMode,onChange:t.onTitleChanged}):o.a.createElement("span",{className:"todoList-header__title",onClick:t.activateEditMode},t.props.title))},t}return n}(o.a.Component),T=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={error:!1,title:""},t.onAddItemClick=function(){var e=t.state.title;t.setState({title:""}),""===e?t.setState({error:!0}):(t.setState({error:!1}),t.props.addItem(e))},t.onTitleChanged=function(e){t.setState({error:!1,title:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){var e=t.state.error?"error":"todolist_addNewTitle";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{className:e,type:"text",placeholder:"New item name",onChange:t.onTitleChanged,onKeyPress:t.onKeyPress,value:t.state.title}),o.a.createElement("button",{disabled:t.props.disabled,className:"todolist_newItem_button",onClick:t.onAddItemClick},"Add"))},t}return n}(o.a.Component),m=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.task.title},t.onIsDoneChanged=function(e){var n=e.currentTarget.checked?2:0;t.props.changeStatus(t.props.task.id,n)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.props.changeTitle(t.props.task.id,t.state.title),t.setState({editMode:!1})},t.onDeleteTask=function(){t.props.deleteTask(t.props.task.id)},t.render=function(){var e=t.props.task.status?"todoList-task done":"todoList-task",n="";switch(t.props.task.priority){case 0:n="Low";break;case 1:n="Middle";break;case 2:n="High";break;case 3:n="Urgently";break;case 4:n="Later"}return o.a.createElement("div",{className:e},o.a.createElement("input",{type:"checkbox",checked:2===t.props.task.status,onChange:t.onIsDoneChanged}),t.state.editMode?o.a.createElement("input",{onBlur:t.deactivateEditMode,onChange:t.onTitleChanged,autoFocus:!0,value:t.state.title}):o.a.createElement("span",{onClick:t.activateEditMode},t.props.task.title),", priority: ",n,o.a.createElement("div",null,o.a.createElement("button",{disabled:t.props.disabled,className:"todolist_task_button",onClick:t.onDeleteTask},"\u0425")))},t}return n}(o.a.Component),k=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).render=function(){var e=t.props.tasks.map((function(e){return o.a.createElement(m,{disabled:t.props.disabled,task:e,key:e.id,changeStatus:t.props.changeStatus,changeTitle:t.props.changeTitle,deleteTask:t.props.deleteTask})}));return o.a.createElement("div",{className:"todoList-tasks"},e)},t}return n}(o.a.Component),h=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(){t.setState({isHidden:!0})},t.onHideFiltersClick=function(){t.setState({isHidden:!1})},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"todoList-footer_button",n="Completed"===t.props.filterValue?"filter-active":"todoList-footer_button",a="Active"===t.props.filterValue?"filter-active":"todoList-footer_button";return o.a.createElement("div",{className:"todoList-footer"},!t.state.isHidden&&o.a.createElement("div",{className:"container_footer"},o.a.createElement("button",{onClick:t.onAllFilterClick,className:e},"All"),o.a.createElement("button",{onClick:t.onCompletedFilterClick,className:n},"Completed"),o.a.createElement("button",{onClick:t.onActiveFilterClick,className:a},"Active")),!t.state.isHidden&&o.a.createElement("span",{onClick:t.onShowFiltersClick},"hide"),t.state.isHidden&&o.a.createElement("span",{onClick:t.onHideFiltersClick},"show"))},t}return n}(o.a.Component),b=n(14),E=n(25),S=n.n(E).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"aee8e0dc-0edb-41fe-ae30-2037f01a0933"}}),v=function(){return S.get("")},C=function(t){return S.post("",{title:t})},g=function(t){return S.delete("/".concat(t))},O=function(t,e){return S.put("/".concat(e),{title:t})},j=function(t){return S.get("/".concat(t,"/tasks"))},L=function(t,e){return S.post("/".concat(e,"/tasks"),{title:t})},_=function(t,e,n){return S.put("/".concat(e,"/tasks/").concat(t),n)},I=function(t,e){return S.delete("/".concat(e,"/tasks/").concat(t))},y="TodoList/Reducer/ADD_TASK_SUCCESS",A="TodoList/Reducer/SET_TASKS_SUCCESS",w="TodoList/Reducer/DISABLED",D={todolists:[],isFetching:!1,disabled:!1},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(u.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(u.a)({},t,{tasks:e.tasks})}))});case"TodoList/Reducer/SET_TODOLISTS_SUCCESS":return Object(u.a)({},t,{todolists:e.todolists.map((function(t){return Object(u.a)({},t,{tasks:[]})}))});case"TodoList/Reducer/ADD_TODOLIST_SUCCESS":return Object(u.a)({},t,{todolists:[e.newTodolist].concat(Object(b.a)(t.todolists))});case"TodoList/Reducer/DELETE_TODOLIST_SUCCESS":return Object(u.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case"TodoList/Reducer/UPDATE_TODOLIST_TITLE_SUCCESS":return Object(u.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(u.a)({},t,{title:e.title})}))});case"TodoList/Reducer/DELETE_TASK_SUCCESS":return Object(u.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case y:return Object(u.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)({},t,{tasks:[e.newTask].concat(Object(b.a)(t.tasks))}):t}))});case"TodoList/Reducer/UPDATE_TASK_SUCCESS":return Object(u.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)({},t,{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(u.a)({},t,{},e.obj)}))}):t}))});case"TodoList/Reducer/TOGGLE_IS_FETCHING":return Object(u.a)({},t,{isFetching:e.isFetching});case w:return Object(u.a)({},t,{disabled:e.disabled});default:return t}},N=function(t){return{type:"TodoList/Reducer/TOGGLE_IS_FETCHING",isFetching:t}},U=function(t){return{type:w,disabled:t}},M=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={filterValue:"All"},t.restoreState=function(){t.props.getTasks(t.props.id)},t.addTask=function(e){t.props.addTask(e,t.props.id)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeTask=function(e,n){var a=t.props.tasks.find((function(t){return t.id===e})),o=Object(u.a)({},a,{},n);t.props.changeTask(e,t.props.id,o,n)},t.changeStatus=function(e,n){t.changeTask(e,{status:n})},t.changeTitle=function(e,n){t.changeTask(e,{title:n})},t.deleteTodolist=function(){t.props.deleteTodo(t.props.id)},t.deleteTask=function(e){t.props.deleteTask(e,t.props.id)},t.updateTitle=function(e){t.props.updateTitle(e,t.props.id)},t.render=function(){var e=t.props.tasks,n=void 0===e?[]:e;return o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(f,{title:t.props.title,updateTitle:t.updateTitle}),o.a.createElement("button",{className:"todolist_delete_button",onClick:t.deleteTodolist},"X")),o.a.createElement(T,{disabled:t.props.disabled,addItem:t.addTask})),o.a.createElement(k,{disabled:t.props.disabled,changeStatus:t.changeStatus,changeTitle:t.changeTitle,deleteTask:t.deleteTask,tasks:n.filter((function(e){return"All"===t.state.filterValue||("Active"===t.state.filterValue?0===e.status:"Completed"===t.state.filterValue?2===e.status:void 0)}))}),o.a.createElement(h,{changeFilter:t.changeFilter,filterValue:t.state.filterValue}))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),R=Object(p.b)((function(t){return{todolists:t.todolist.todolists,disabled:t.todolist.disabled}}),{getTasks:function(t){return function(e){j(t).then((function(n){var a=n.data.items;e({type:A,tasks:a,todolistId:t})}))}},addTask:function(t,e){return function(n){n(U(!0)),L(t,e).then((function(t){var a=t.data.data.item;n(function(t,e){return{type:y,newTask:t,todolistId:e}}(a,e)),n(U(!1))}))}},changeTask:function(t,e,n,a){return function(o){_(t,e,n).then((function(n){o(function(t,e,n){return{type:"TodoList/Reducer/UPDATE_TASK_SUCCESS",taskId:t,obj:e,todolistId:n}}(t,a,e))}))}},deleteTodo:function(t){return function(e){g(t).then((function(n){e({type:"TodoList/Reducer/DELETE_TODOLIST_SUCCESS",todolistId:t})}))}},deleteTask:function(t,e){return function(n){I(t,e).then((function(a){n(function(t,e){return{type:"TodoList/Reducer/DELETE_TASK_SUCCESS",todolistId:t,taskId:e}}(e,t))}))}},updateTitle:function(t,e){return function(n){O(t,e).then((function(a){n(function(t,e){return{type:"TodoList/Reducer/UPDATE_TODOLIST_TITLE_SUCCESS",todolistId:t,title:e}}(e,t))}))}}})(M),H=n(26),K=n.n(H),V=(n(57),function(){return o.a.createElement("div",null,o.a.createElement("img",{src:K.a,className:"preloader"}))}),P=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).restoreState=function(){t.props.getTodolists()},t.addTodoList=function(e){t.props.addTodolist(e)},t.render=function(){var e=t.props.todolists.map((function(t){return o.a.createElement(R,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement(o.a.Fragment,null,t.props.isFetching?o.a.createElement(V,null):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(T,{disabled:t.props.disabled,addItem:t.addTodoList})),o.a.createElement("div",{className:"App"},e)))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),G=Object(p.b)((function(t){return{todolists:t.todolist.todolists,isFetching:t.todolist.isFetching,disabled:t.todolist.disabled}}),{getTodolists:function(){return function(t){t(N(!0)),v().then((function(e){t({type:"TodoList/Reducer/SET_TODOLISTS_SUCCESS",todolists:e.data}),t(N(!1))}))}},addTodolist:function(t){return function(e){e(U(!0)),C(t).then((function(t){var n=t.data.data.item;e({type:"TodoList/Reducer/ADD_TODOLIST_SUCCESS",newTodolist:n}),e(U(!1))}))}}})(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(8),x=n(27),J=Object(B.c)({todolist:F}),W=Object(B.d)(J,Object(B.a)(x.a));s.a.render(o.a.createElement(p.a,{store:W},o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},6:function(t,e,n){}},[[28,1,2]]]);
//# sourceMappingURL=main.0892f78f.chunk.js.map